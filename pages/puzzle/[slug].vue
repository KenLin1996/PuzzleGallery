<template>
  <q-page class="q-pa-lg">
    <div v-if="artwork" class="q-gutter-md q-mx-auto detail-container">
      <!-- æ‹¼åœ–åœ–ç‰‡ -->
      <q-card flat class="overflow-hidden">
        <q-img
          :src="artwork.image"
          :alt="artwork.name"
          class="full-width"
          style="max-height: 480px"
          fit="cover"
        />
      </q-card>

      <!-- æ‹¼åœ–æ¨™é¡Œ -->
      <div class="text-h4 text-primary text-weight-bold">
        {{ artwork.name }}
      </div>

      <!-- æ‹¼åœ–è³‡è¨Š -->
      <q-card class="q-pa-md">
        <q-card-section>
          <div class="text-subtitle1">
            ğŸ§© æ‹¼åœ–ç‰‡æ•¸ï¼š
            <span class="text-weight-medium">{{ artwork.pcs }} ç‰‡</span>
          </div>
        </q-card-section>
      </q-card>

      <!-- æ›´å¤šè³‡è¨Š (å¯æ“´å……) -->
      <!--
      <q-card>
        <q-card-section>
          <div class="text-subtitle2">ä½œè€…ï¼š{{ author.name }}</div>
          <div class="text-caption q-mt-sm">å…¶ä»–ä½œå“ä¹Ÿå¾ˆç²¾å½©ï¼</div>
        </q-card-section>
      </q-card>
      -->
    </div>

    <div v-else class="text-negative text-h6 text-center q-mt-xl">
      âŒ æ‰¾ä¸åˆ°è©²æ‹¼åœ–
    </div>
  </q-page>
</template>

<script setup lang="ts">
import { computed } from "vue";
import { useRoute } from "vue-router";
import { usePuzzleStore } from "@/stores/puzzle";

const route = useRoute();
const puzzleStore = usePuzzleStore();

const slug = route.params.slug as string;
const artwork = computed(() => puzzleStore.findArtworkBySlug(slug));
</script>

<style scoped>
.detail-container {
  max-width: 720px;
}
</style>
